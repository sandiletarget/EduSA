{% extends "core/base.html" %}
{% load static %}

{# Shared dashboard shell for both roles. #}
{% block extra_head %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'core/css/dashboard.css' %}">
{% endblock %}

{% block body_class %}
dashboard-body{% if role_theme == "teacher" %} teacher-theme{% elif role_theme == "student" %} student-theme{% endif %}
{% endblock %}

{% block content %}
  {% if request.user.is_authenticated %}
    <div class="dashboard-layout">
      <aside class="dashboard-sidebar" id="dashboardSidebar">
        {% if role_theme == "teacher" %}
          {% include "core/teacher_sidebar.html" %}
        {% elif role_theme == "student" %}
          {% include "core/student_sidebar.html" %}
        {% endif %}
      </aside>

      <div class="dashboard-main">
        <header class="dashboard-topbar">
          <button class="sidebar-toggle" type="button" data-sidebar-toggle aria-label="Toggle navigation">
            â˜°
          </button>
          <div class="dashboard-topbar__title">
            {% block dashboard_title %}{% endblock %}
          </div>
        </header>
        <section class="dashboard-content">
          {% block dashboard_content %}{% endblock %}
        </section>
      </div>
    </div>
    <script src="{% static 'core/js/sidebar.js' %}"></script>
  {% else %}
    {% block dashboard_content %}{% endblock %}
  {% endif %}
{% endblock %}
